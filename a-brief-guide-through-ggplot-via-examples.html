<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 19 A Brief Guide Through ggplot via Examples | Community Contributions STAT GR 5293</title>
<meta name="description" content="Andrew Ward  19.1 Introduction This community contribution is an outline of the key concepts in data visualization. I find that, to remind myself how a particular plot is created, I like to look...">
<meta name="generator" content="bookdown 0.25 with bs4_book()">
<meta property="og:title" content="Chapter 19 A Brief Guide Through ggplot via Examples | Community Contributions STAT GR 5293">
<meta property="og:type" content="book">
<meta property="og:description" content="Andrew Ward  19.1 Introduction This community contribution is an outline of the key concepts in data visualization. I find that, to remind myself how a particular plot is created, I like to look...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 19 A Brief Guide Through ggplot via Examples | Community Contributions STAT GR 5293">
<meta name="twitter:description" content="Andrew Ward  19.1 Introduction This community contribution is an outline of the key concepts in data visualization. I find that, to remind myself how a particular plot is created, I like to look...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><script src="libs/plotly-binding-4.10.0/plotly.js"></script><script src="libs/typedarray-0.1/typedarray.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script><link href="libs/parallel-coordinates-2.1.8/parcoords.css" rel="stylesheet">
<script src="libs/parcoords-binding-1.0.0/parcoords.js"></script><script src="libs/d3-5.16.0/d3.min.js"></script><link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet">
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script><script src="libs/dygraphs-1.1.1/shapes.js"></script><script src="libs/moment-2.8.4/moment.js"></script><script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script><script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script><script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script><link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="libs/leaflet-1.3.1/leaflet.js"></script><link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="libs/proj4-2.6.2/proj4.min.js"></script><script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script><script src="libs/echarts-4.0.0/echarts.min.js"></script><script src="libs/echarts-4.0.0/echarts-wordcloud.min.js"></script><script src="libs/echarts_shapeFile-3.2.2/china.js"></script><script src="libs/echarts_shapeFile-3.2.2/provinceShape.js"></script><script src="libs/echarts_shapeFile-3.2.2/world.js"></script><script src="libs/echarts-binding-0.0.4/echarts.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Community Contributions STAT GR 5293</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Welcome!</a></li>
<li><a class="" href="community-contribution.html"><span class="header-section-number">2</span> Community Contribution</a></li>
<li><a class="" href="github-submission-instructions.html"><span class="header-section-number">3</span> GitHub submission instructions</a></li>
<li><a class="" href="sample-project.html"><span class="header-section-number">4</span> Sample project</a></li>
<li class="book-part">Cheatsheets</li>
<li><a class="" href="tmap-package.html"><span class="header-section-number">5</span> tmap package</a></li>
<li><a class="" href="graphics-cheatsheet-in-ggplot2.html"><span class="header-section-number">6</span> Graphics cheatsheet in ggplot2</a></li>
<li><a class="" href="ggplot2-cheatsheet.html"><span class="header-section-number">7</span> ggplot2 cheatsheet</a></li>
<li><a class="" href="data-preprocessing-cheat-sheet-in-r.html"><span class="header-section-number">8</span> Data preprocessing cheat sheet in R</a></li>
<li><a class="" href="data-wrangling-and-visualization-in-r.html"><span class="header-section-number">9</span> Data Wrangling and Visualization in R</a></li>
<li><a class="" href="ggplot2-cheatsheet-1.html"><span class="header-section-number">10</span> GGplot2 cheatsheet</a></li>
<li><a class="" href="cheat-sheet-for-tidyverse.html"><span class="header-section-number">11</span> Cheat Sheet for Tidyverse</a></li>
<li><a class="" href="memos-checklist-and-usful-links-experience-of-statistical-graphic.html"><span class="header-section-number">12</span> Memos, checklist and usful links: experience of statistical graphic</a></li>
<li><a class="" href="cheatsheet-for-multiple-graphics.html"><span class="header-section-number">13</span> Cheatsheet for multiple graphics</a></li>
<li><a class="" href="useful-setting-of-ggplot2.html"><span class="header-section-number">14</span> Useful setting of ggplot2</a></li>
<li><a class="" href="cheatsheet-for-circlize-package.html"><span class="header-section-number">15</span> Cheatsheet for ‘circlize’ package</a></li>
<li class="book-part">Tutorials</li>
<li><a class="" href="visualizing-geographical-time-series-data-with-messy-country-name.html"><span class="header-section-number">16</span> Visualizing Geographical Time Series Data With Messy Country Name</a></li>
<li><a class="" href="plotly-package.html"><span class="header-section-number">17</span> Plotly package</a></li>
<li><a class="" href="web-scraping-using-beautifulsoup-in-python.html"><span class="header-section-number">18</span> Web Scraping Using BeautifulSoup in Python</a></li>
<li><a class="active" href="a-brief-guide-through-ggplot-via-examples.html"><span class="header-section-number">19</span> A Brief Guide Through ggplot via Examples</a></li>
<li><a class="" href="drawing-five-common-plots-by-ggplot2.html"><span class="header-section-number">20</span> Drawing Five Common Plots by ggplot2</a></li>
<li><a class="" href="compare-different-ways-of-plotting-biplot-mosaicplot-and-heatmap.html"><span class="header-section-number">21</span> Compare different ways of plotting Biplot, Mosaicplot, and Heatmap</a></li>
<li><a class="" href="twitter-api-guide-in-r.html"><span class="header-section-number">22</span> Twitter API guide in R</a></li>
<li><a class="" href="geographical-maps-packages-comparison-ggmap-vs.-ggplot-vs-tmap.html"><span class="header-section-number">23</span> Geographical Maps Packages Comparison: ggmap vs. ggplot vs tmap</a></li>
<li><a class="" href="r-shiny-map-tutorial.html"><span class="header-section-number">24</span> R Shiny Map Tutorial</a></li>
<li><a class="" href="animation-graphs-in-plot_ly-and-gganimate.html"><span class="header-section-number">25</span> Animation graphs in plot_ly and gganimate</a></li>
<li><a class="" href="forest-plots.html"><span class="header-section-number">26</span> Forest Plots</a></li>
<li><a class="" href="differences-between-some-packages-of-visualizaiton.html"><span class="header-section-number">27</span> Differences between some packages of visualizaiton</a></li>
<li><a class="" href="lecture-helper.html"><span class="header-section-number">28</span> Lecture Helper</a></li>
<li><a class="" href="basic-introduction-to-tidyverse.html"><span class="header-section-number">29</span> Basic introduction to tidyverse</a></li>
<li><a class="" href="class_material_code_throughout_this_semester.html"><span class="header-section-number">30</span> class_material_code_throughout_this_semester</a></li>
<li><a class="" href="calendar-heat-map-tutorial.html"><span class="header-section-number">31</span> Calendar heat map tutorial</a></li>
<li><a class="" href="basic-time-series-analysis-and-prediction.html"><span class="header-section-number">32</span> Basic time series analysis and prediction</a></li>
<li><a class="" href="r-shiny-and-interactive-map-tutorial.html"><span class="header-section-number">33</span> R Shiny and Interactive Map Tutorial</a></li>
<li><a class="" href="extract-data-from-scatterplot.html"><span class="header-section-number">34</span> Extract data from scatterplot</a></li>
<li><a class="" href="tutorial-for-the-r-graph-gallery.html"><span class="header-section-number">35</span> Tutorial for the r graph gallery</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="github-initial-setup.html"><span class="header-section-number">36</span> Github initial setup</a></li>
<li><a class="" href="tutorial-for-pull-request-mergers.html"><span class="header-section-number">37</span> Tutorial for pull request mergers</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/jtr13/cc22spring">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="a-brief-guide-through-ggplot-via-examples" class="section level1" number="19">
<h1>
<span class="header-section-number">19</span> A Brief Guide Through ggplot via Examples<a class="anchor" aria-label="anchor" href="#a-brief-guide-through-ggplot-via-examples"><i class="fas fa-link"></i></a>
</h1>
<p>Andrew Ward</p>
<div id="introduction-1" class="section level2" number="19.1">
<h2>
<span class="header-section-number">19.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-1"><i class="fas fa-link"></i></a>
</h2>
<p>This community contribution is an outline of the key concepts in data visualization. I find that, to remind myself how a particular plot is created, I like to look for an example. From that example, I can see the key parameters that are used, as well as how the code is formatted. To that end, I decided to create a cheat sheet of sorts, with a rundown of all the major plots that I’ve been using recently. Each chapter contains a type of plot, with a few examples of that plot based on different common uses for it. Essentially, I just wanted a place where I could quickly access relevant examples for common plots that I may be using. I also added comments after most of the parameters to explain in words what that parameter is doing. That can make knowing which lines to alter easier to create the precise plot you are looking to create.</p>
<p>Creating this cheat sheet was really helpful for me personally. Not only does it now serve as a resource that I will reference myself, but even just writing the examples helped me get a more innate understanding of how the functions operate, including the type of data they require. Often times, I tried to use data in the examples that would not need to be downloaded. That meant either manually writing in a data frame, or using a very common data set in R, such as mtcars. Then, I would alter the data frame to fit a format that would be needed to suit the plot I was making. Understanding the type of data that needs to be used ended up making it much easier for me to understand how the plot worked.</p>
<p>Many of the examples are taken from lecture slides. That gave me a baseline to build upon. I then tried to comment on each line of the code. Additionally, I would sometimes use different data or slightly different syntax to try to make the plot more reproducible for someone who might not understand what certain parameters are doing. This is not meant to provide solutions to highly complex plots with really messy data. Instead, it is meant to serve as a baseline to understanding how some of these major plots work through examples, which is the way that I personally like to learn things.</p>
<p>In future iterations of this cheat sheet, I plan to add more types of plots, just to grow the database that this file will have. Additionally, I may look to have a more cohesive and thorough way to have different examples. Maybe I’ll need to create more examples in each chapter to illustrate differences, or maybe I don’t need as many, as simply listing the parameters and what they do is sufficient.</p>
</div>
<div id="histograms" class="section level2" number="19.2">
<h2>
<span class="header-section-number">19.2</span> Histograms<a class="anchor" aria-label="anchor" href="#histograms"><i class="fas fa-link"></i></a>
</h2>
<div id="histogram-by-frequency-count" class="section level3" number="19.2.1">
<h3>
<span class="header-section-number">19.2.1</span> Histogram by Frequency (Count)<a class="anchor" aria-label="anchor" href="#histogram-by-frequency-count"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb164"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df1a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">35</span>, <span class="fl">59</span>, <span class="fl">61</span>, <span class="fl">64</span>, <span class="fl">66</span>, <span class="fl">66</span>, <span class="fl">70</span>, <span class="fl">72</span>, <span class="fl">73</span>, <span class="fl">74</span>, <span class="fl">75</span>, <span class="fl">76</span>, <span class="fl">76</span>, <span class="fl">78</span>, <span class="fl">79</span>, <span class="fl">80</span>, <span class="fl">80</span>, <span class="fl">81</span>, <span class="fl">81</span>, <span class="fl">82</span>, <span class="fl">82</span>, <span class="fl">82</span>, <span class="fl">84</span>, <span class="fl">86</span>, <span class="fl">86</span>, <span class="fl">88</span>, <span class="fl">88</span>, <span class="fl">88</span>, <span class="fl">88</span>, <span class="fl">89</span>, <span class="fl">89</span>, <span class="fl">90</span>, <span class="fl">91</span>,<span class="fl">91</span>, <span class="fl">92</span>, <span class="fl">92</span>, <span class="fl">92</span>, <span class="fl">92</span>, <span class="fl">94</span>, <span class="fl">94</span>, <span class="fl">94</span>, <span class="fl">94</span>, <span class="fl">96</span>, <span class="fl">98</span>, <span class="fl">102</span><span class="op">)</span><span class="op">)</span>
<span class="va">g1a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df1a</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"blue"</span>, <span class="co">#color the border of the bars</span>
                   fill <span class="op">=</span> <span class="st">"lightblue"</span>, <span class="co">#color the bars</span>
                   breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">110</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#set the bins</span>
        <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">30</span>, <span class="fl">110</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span> <span class="co">#set the x axis</span>
<span class="va">g1a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-2-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="histogram-by-density" class="section level3" number="19.2.2">
<h3>
<span class="header-section-number">19.2.2</span> Histogram by Density<a class="anchor" aria-label="anchor" href="#histogram-by-density"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb165"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df1b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">1000</span>, <span class="fl">100</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>

<span class="va">g1b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span> <span class="va">df1b</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">..density..</span><span class="op">)</span>, <span class="co">#set to density</span>
                 color <span class="op">=</span> <span class="st">"blue"</span>, fill <span class="op">=</span> <span class="st">"lightblue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density.html">geom_density</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"red"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#add density curve of the data</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_function.html">stat_function</a></span><span class="op">(</span>fun <span class="op">=</span> <span class="va">dnorm</span>, args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="va">df1b</span><span class="op">$</span><span class="va">x</span><span class="op">)</span>, sd <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html">sd</a></span><span class="op">(</span><span class="va">df1b</span><span class="op">$</span><span class="va">x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#add normal curve based on mean and sd of data to see how it compares to the density curve</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Density"</span><span class="op">)</span>

<span class="va">g1b</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-3-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="boxplots" class="section level2" number="19.3">
<h2>
<span class="header-section-number">19.3</span> Boxplots<a class="anchor" aria-label="anchor" href="#boxplots"><i class="fas fa-link"></i></a>
</h2>
<div id="standard-box-plot" class="section level3" number="19.3.1">
<h3>
<span class="header-section-number">19.3.1</span> Standard Box Plot<a class="anchor" aria-label="anchor" href="#standard-box-plot"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb166"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2a</span> <span class="op">&lt;-</span> <span class="va">mtcars</span>
<span class="va">df2a</span> <span class="op">&lt;-</span> <span class="va">df2a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>, <span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>, <span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>, <span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span><span class="op">)</span>

<span class="va">g2a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df2a</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">group</span>, <span class="op">-</span><span class="va">mpg</span>, <span class="va">median</span><span class="op">)</span>, <span class="co">#order the boxes in eitehr increasing or decreasing order</span>
                        y <span class="op">=</span> <span class="va">mpg</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_boxplot.html">geom_boxplot</a></span><span class="op">(</span>varwidth<span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> <span class="co">#change width of each box</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co">#switch x and y axes</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_grey</a></span><span class="op">(</span><span class="fl">14</span><span class="op">)</span>

<span class="va">g2a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-4-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="ridgeline-plot-1" class="section level3" number="19.3.2">
<h3>
<span class="header-section-number">19.3.2</span> Ridgeline Plot<a class="anchor" aria-label="anchor" href="#ridgeline-plot-1"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb167"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df2b</span> <span class="op">&lt;-</span> <span class="va">mtcars</span>
<span class="va">df2b</span> <span class="op">&lt;-</span> <span class="va">df2b</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>, <span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>, <span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">3</span>, <span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span><span class="op">)</span>

<span class="va">g2b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df2b</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span> <span class="va">mpg</span>,y<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">group</span>,<span class="op">-</span><span class="va">mpg</span>, <span class="va">median</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://wilkelab.org/ggridges/reference/geom_density_ridges.html">geom_density_ridges</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"blue"</span>, alpha <span class="op">=</span> <span class="fl">.5</span>, <span class="co">#alpha changes how opaque or vague the ridges are</span>
                      scale<span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="co">#scale changes how close together the groups are</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_grey</a></span><span class="op">(</span><span class="fl">14</span><span class="op">)</span>
<span class="va">g2b</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-5-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="bar-plots" class="section level2" number="19.4">
<h2>
<span class="header-section-number">19.4</span> Bar Plots<a class="anchor" aria-label="anchor" href="#bar-plots"><i class="fas fa-link"></i></a>
</h2>
<div id="standard-bar-plot" class="section level3" number="19.4.1">
<h3>
<span class="header-section-number">19.4.1</span> Standard Bar Plot<a class="anchor" aria-label="anchor" href="#standard-bar-plot"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb168"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df3a</span> <span class="op">&lt;-</span> <span class="va">food_world_cup</span>

<span class="va">g3a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df3a</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">knowledge</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#y is the count of x instances</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"cornflowerblue"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#color</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co">#switch x and y axes</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Knowledge level of respondents"</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_bw</a></span><span class="op">(</span><span class="fl">16</span><span class="op">)</span>

<span class="va">g3a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-6-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="stacked-bar-plot-with-multiple-variables" class="section level3" number="19.4.2">
<h3>
<span class="header-section-number">19.4.2</span> Stacked Bar Plot with Multiple Variables<a class="anchor" aria-label="anchor" href="#stacked-bar-plot-with-multiple-variables"><i class="fas fa-link"></i></a>
</h3>
<p>data from <a href="https://r-charts.com/part-whole/stacked-bar-chart-ggplot2/" class="uri">https://r-charts.com/part-whole/stacked-bar-chart-ggplot2/</a></p>
<div class="sourceCode" id="cb169"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/Random.html">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span>

<span class="va">age3b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Child"</span>, <span class="st">"Adult"</span>, <span class="st">"Retired"</span><span class="op">)</span>,
              size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
              levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Child"</span>, <span class="st">"Adult"</span>, <span class="st">"Retired"</span><span class="op">)</span><span class="op">)</span>
<span class="va">hours3b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">city3b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">df3b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age3b</span>, y <span class="op">=</span> <span class="va">hours3b</span>, group <span class="op">=</span> <span class="va">city3b</span><span class="op">)</span>

<span class="va">g3b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df3b</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>,
                      fill <span class="op">=</span> <span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#fill by the group you want to compare between</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="co">#stat= identity for multiple variables</span>

<span class="va">g3b</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-7-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="grouped-bar-plot" class="section level3" number="19.4.3">
<h3>
<span class="header-section-number">19.4.3</span> Grouped Bar Plot<a class="anchor" aria-label="anchor" href="#grouped-bar-plot"><i class="fas fa-link"></i></a>
</h3>
<p>data from <a href="https://r-charts.com/part-whole/stacked-bar-chart-ggplot2/" class="uri">https://r-charts.com/part-whole/stacked-bar-chart-ggplot2/</a></p>
<div class="sourceCode" id="cb170"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">age3c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Child"</span>, <span class="st">"Adult"</span>, <span class="st">"Retired"</span><span class="op">)</span>,
              size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
              levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Child"</span>, <span class="st">"Adult"</span>, <span class="st">"Retired"</span><span class="op">)</span><span class="op">)</span>
<span class="va">hours3c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">city3c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">df3c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age3c</span>, y <span class="op">=</span> <span class="va">hours3c</span>, group <span class="op">=</span> <span class="va">city3c</span><span class="op">)</span>

<span class="va">g3c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df3c</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, y <span class="op">=</span> <span class="va">y</span>, fill <span class="op">=</span> <span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#same aesthetics</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position<span class="op">=</span> <span class="st">"dodge"</span>, stat <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span> <span class="co">#position = dodge makes them grouped</span>

<span class="va">g3c</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-8-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="grouped-bar-plot-with-facets" class="section level3" number="19.4.4">
<h3>
<span class="header-section-number">19.4.4</span> Grouped Bar Plot with Facets<a class="anchor" aria-label="anchor" href="#grouped-bar-plot-with-facets"><i class="fas fa-link"></i></a>
</h3>
<p>data from <a href="https://r-charts.com/part-whole/stacked-bar-chart-ggplot2/" class="uri">https://r-charts.com/part-whole/stacked-bar-chart-ggplot2/</a></p>
<div class="sourceCode" id="cb171"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">age3d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Child"</span>, <span class="st">"Adult"</span>, <span class="st">"Retired"</span><span class="op">)</span>,
              size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
              levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Child"</span>, <span class="st">"Adult"</span>, <span class="st">"Retired"</span><span class="op">)</span><span class="op">)</span>
<span class="va">hours3d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">city3d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span><span class="op">)</span>,
               size <span class="op">=</span> <span class="fl">50</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="va">df3d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age3d</span>, y <span class="op">=</span> <span class="va">hours3d</span>, group <span class="op">=</span> <span class="va">city3d</span><span class="op">)</span>

<span class="va">g3d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df3d</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">x</span>, fill <span class="op">=</span> <span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position<span class="op">=</span> <span class="st">"dodge"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#position = dodge makes them grouped</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="op">~</span><span class="va">y</span><span class="op">)</span> <span class="co">#add the facets around the variable of your choice</span>

<span class="va">g3d</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-9-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="cleveland-dot-plots" class="section level2" number="19.5">
<h2>
<span class="header-section-number">19.5</span> Cleveland Dot Plots<a class="anchor" aria-label="anchor" href="#cleveland-dot-plots"><i class="fas fa-link"></i></a>
</h2>
<div id="standard-cleveland-dot-plot" class="section level3" number="19.5.1">
<h3>
<span class="header-section-number">19.5.1</span> Standard Cleveland Dot Plot<a class="anchor" aria-label="anchor" href="#standard-cleveland-dot-plot"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb172"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df4a</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>number <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">32</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>number <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">number</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span><span class="op">)</span>


<span class="va">g4a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df4a</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span> <span class="va">mpg</span>, y<span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder</a></span><span class="op">(</span><span class="va">number</span>, <span class="va">mpg</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#order the factor to make the dots be increasing or decreaing</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Cleveland Dot Plot for Car MPG"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span>

<span class="va">g4a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-10-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="cleveland-dot-plot-with-multiple-dots" class="section level3" number="19.5.2">
<h3>
<span class="header-section-number">19.5.2</span> Cleveland Dot Plot with Multiple Dots<a class="anchor" aria-label="anchor" href="#cleveland-dot-plot-with-multiple-dots"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb173"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df4b</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>number <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">32</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>number <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">number</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span><span class="op">)</span>


<span class="va">g4b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df4b</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span> <span class="va">mpg</span>, y<span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder2</a></span><span class="op">(</span><span class="va">number</span>, <span class="va">group</span> <span class="op">==</span> <span class="fl">2</span>, <span class="va">mpg</span>, .desc<span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>, color<span class="op">=</span> <span class="va">group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#color parameter differentiates the points by group</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"With Multiple Groups"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span>

<span class="va">g4b</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-11-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="cleveland-dot-plots-with-facets" class="section level3" number="19.5.3">
<h3>
<span class="header-section-number">19.5.3</span> Cleveland Dot Plots with Facets<a class="anchor" aria-label="anchor" href="#cleveland-dot-plots-with-facets"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb174"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df4c</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>number <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">32</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>number <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">number</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>group <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">group</span><span class="op">)</span><span class="op">)</span>


<span class="va">g4c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span> <span class="va">df4c</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span> <span class="va">mpg</span>, y<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">number</span>, <span class="va">mpg</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="va">.</span><span class="op">~</span><span class="fu"><a href="https://rdrr.io/r/stats/reorder.factor.html">reorder</a></span><span class="op">(</span><span class="va">group</span>, <span class="op">-</span><span class="va">mpg</span>, <span class="va">median</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#facet by the group</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span><span class="st">"Facet Cleveland Dot Plot for Car MPG"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span>

<span class="va">g4c</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-12-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="heatmaps" class="section level2" number="19.6">
<h2>
<span class="header-section-number">19.6</span> Heatmaps<a class="anchor" aria-label="anchor" href="#heatmaps"><i class="fas fa-link"></i></a>
</h2>
<div id="square-heatmap-1" class="section level3" number="19.6.1">
<h3>
<span class="header-section-number">19.6.1</span> Square Heatmap<a class="anchor" aria-label="anchor" href="#square-heatmap-1"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb175"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df5a</span> <span class="op">&lt;-</span> <span class="va">SpeedSki</span>

<span class="va">g5a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df5a</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>, y<span class="op">=</span><span class="va">Speed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html">scale_fill_viridis_c</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co">#color scheme</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bin_2d.html">geom_bin2d</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, <span class="co">#binwidth sets how big the bins are</span>
             alpha <span class="op">=</span> <span class="fl">.4</span><span class="op">)</span> <span class="op">+</span> <span class="co">#alpha changes transparency</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span> <span class="fl">2</span><span class="op">)</span> <span class="co">#add points to see that the heatmap looks correct</span>

<span class="va">g5a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="hex-heatmap" class="section level3" number="19.6.2">
<h3>
<span class="header-section-number">19.6.2</span> Hex Heatmap<a class="anchor" aria-label="anchor" href="#hex-heatmap"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb176"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df5b</span> <span class="op">&lt;-</span> <span class="va">SpeedSki</span>

<span class="va">g5b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df5b</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>, y<span class="op">=</span><span class="va">Speed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_gradient.html">scale_fill_gradient</a></span><span class="op">(</span>low <span class="op">=</span> <span class="st">"grey"</span>, high<span class="op">=</span> <span class="st">"purple"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#color scheme</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_hex.html">geom_hex</a></span><span class="op">(</span>binwidth <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>, alpha <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span> <span class="op">+</span> <span class="co">#use geom_hex instead</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>size<span class="op">=</span> <span class="fl">2</span><span class="op">)</span>

<span class="va">g5b</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-14-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="density-lines" class="section level3" number="19.6.3">
<h3>
<span class="header-section-number">19.6.3</span> Density lines<a class="anchor" aria-label="anchor" href="#density-lines"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb177"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df5c</span> <span class="op">&lt;-</span> <span class="va">SpeedSki</span>

<span class="va">g5c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df5c</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">Year</span>, y<span class="op">=</span><span class="va">Speed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_density_2d.html">geom_density2d</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">10</span><span class="op">)</span> <span class="op">+</span> <span class="co">#bins number changes how many density lines there are</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_grey</a></span><span class="op">(</span><span class="fl">18</span><span class="op">)</span>

<span class="va">g5c</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-15-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="parallel-coordinate-plots" class="section level2" number="19.7">
<h2>
<span class="header-section-number">19.7</span> Parallel Coordinate Plots<a class="anchor" aria-label="anchor" href="#parallel-coordinate-plots"><i class="fas fa-link"></i></a>
</h2>
<div id="rescaled-slope-graph" class="section level3" number="19.7.1">
<h3>
<span class="header-section-number">19.7.1</span> Rescaled Slope Graph<a class="anchor" aria-label="anchor" href="#rescaled-slope-graph"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb178"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme_get.html">theme_set</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_grey</a></span><span class="op">(</span><span class="fl">18</span><span class="op">)</span><span class="op">)</span>
<span class="va">x6a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">20</span>, <span class="fl">5</span><span class="op">)</span>
<span class="va">y6a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">8</span>, <span class="fl">12</span><span class="op">)</span> <span class="op">-</span> <span class="va">x6a</span>
<span class="va">df6a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">x6a</span>, <span class="va">y6a</span><span class="op">)</span>  

<span class="va">tidydf6a</span> <span class="op">&lt;-</span> <span class="va">df6a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>z <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Exponential.html">rexp</a></span><span class="op">(</span><span class="fl">50</span>, <span class="fl">.1</span><span class="op">)</span> <span class="op">+</span> <span class="va">x6a</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">x6a</span>, <span class="va">y6a</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="st">"ID"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span><span class="op">(</span><span class="va">var</span>, <span class="va">value</span>, <span class="op">-</span><span class="va">ID</span><span class="op">)</span> 

<span class="co"># Rescale the data here</span>
<span class="va">rescaled6a</span> <span class="op">&lt;-</span> <span class="va">tidydf6a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">var</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>value<span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/rescale.html">rescale</a></span><span class="op">(</span><span class="va">value</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">ungroup</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">g6a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">rescaled6a</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">var</span>, <span class="co">#2 variables, x and y</span>
                            y <span class="op">=</span> <span class="va">value</span>, <span class="co">#using the rescaled value</span>
                            group <span class="op">=</span> <span class="va">ID</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  <span class="co">#use this so ggplot knows where to map points in x to points in y</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">g6a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-16-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="parallel-coordinate-plot" class="section level3" number="19.7.2">
<h3>
<span class="header-section-number">19.7.2</span> Parallel Coordinate Plot<a class="anchor" aria-label="anchor" href="#parallel-coordinate-plot"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb179"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mystates6b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">state.x77</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  
    <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="st">"State"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>   
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">state.region</span><span class="op">)</span><span class="op">)</span>

<span class="va">mystates6b</span><span class="op">$</span><span class="va">Region</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">mystates6b</span><span class="op">$</span><span class="va">Region</span>,  
                          levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Northeast"</span>, <span class="st">"North Central"</span>,<span class="st">"South"</span>,<span class="st">"West"</span><span class="op">)</span><span class="op">)</span> 

<span class="va">g6b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggparcoord.html">ggparcoord</a></span><span class="op">(</span><span class="va">mystates6b</span>,
                  columns<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">6</span>,<span class="fl">8</span>,<span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">7</span>,<span class="fl">9</span><span class="op">)</span>, <span class="co">#reorder the columns</span>
                  alphaLines <span class="op">=</span> <span class="fl">.3</span>, <span class="co">#transparency of lines</span>
                  scale<span class="op">=</span> <span class="st">"uniminmax"</span><span class="op">)</span> <span class="co">#rescale</span>

<span class="va">g6b</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-17-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="splines" class="section level3" number="19.7.3">
<h3>
<span class="header-section-number">19.7.3</span> Splines<a class="anchor" aria-label="anchor" href="#splines"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb180"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x6c</span> <span class="op">&lt;-</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>  
<span class="va">y6c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">10</span>,<span class="fl">10</span>,<span class="fl">10</span><span class="op">)</span>  
<span class="va">z6c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">7</span>,<span class="fl">7</span>,<span class="fl">5</span>,<span class="fl">7</span>,<span class="fl">7</span><span class="op">)</span>  
<span class="va">w6c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">1</span>, <span class="fl">7</span>, <span class="fl">7</span>, <span class="fl">7</span>, <span class="fl">8</span>, <span class="fl">8</span>, <span class="fl">8</span>, <span class="fl">8</span><span class="op">)</span>  
<span class="va">df6c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">x6c</span>,<span class="va">y6c</span>,<span class="va">z6c</span>, <span class="va">w6c</span><span class="op">)</span>

<span class="va">g6c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggparcoord.html">ggparcoord</a></span><span class="op">(</span><span class="va">df6c</span>, columns<span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, scale<span class="op">=</span> <span class="st">"globalminmax"</span>, <span class="co">#scale</span>
                  splineFactor <span class="op">=</span> <span class="fl">10</span>, <span class="co">#how curvy the lines are</span>
                  alphaLines <span class="op">=</span> <span class="fl">.5</span><span class="op">)</span> <span class="op">+</span> <span class="co">#how transparent the lines are</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, color<span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="co"># vertical lines</span>

<span class="va">g6c</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-18-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="parallel-coordinate-plot-with-highlighted-trend" class="section level3" number="19.7.4">
<h3>
<span class="header-section-number">19.7.4</span> Parallel Coordinate Plot with Highlighted Trend<a class="anchor" aria-label="anchor" href="#parallel-coordinate-plot-with-highlighted-trend"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb181"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mystates6d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="va">state.x77</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  
    <span class="fu"><a href="https://tibble.tidyverse.org/reference/rownames.html">rownames_to_column</a></span><span class="op">(</span><span class="st">"State"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>   
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">state.region</span><span class="op">)</span><span class="op">)</span>

<span class="va">mystates6d</span><span class="op">$</span><span class="va">Region</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">mystates6d</span><span class="op">$</span><span class="va">Region</span>,  
                          levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Northeast"</span>, <span class="st">"North Central"</span>,<span class="st">"South"</span>,<span class="st">"West"</span><span class="op">)</span><span class="op">)</span> 

<span class="va">mystates6d</span> <span class="op">&lt;-</span> <span class="va">mystates6d</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">Murder</span> <span class="op">&gt;</span> <span class="fl">11</span>, <span class="fl">1</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>   
    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">color</span><span class="op">)</span>

<span class="va">g6d</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggobi.github.io/ggally/reference/ggparcoord.html">ggparcoord</a></span><span class="op">(</span><span class="va">mystates6d</span>,columns<span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">9</span>, <span class="co">#set the columns to use</span>
                  groupColumn<span class="op">=</span> <span class="st">"color"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#group the columns by the parameter you want to highlight</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html">scale_color_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"grey70"</span>, <span class="st">"red"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#Choose colors</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_flip.html">coord_flip</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co">#flip the coordinates</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="co">#remove this to get the legend</span>

<span class="va">g6d</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="biplots" class="section level2" number="19.8">
<h2>
<span class="header-section-number">19.8</span> Biplots<a class="anchor" aria-label="anchor" href="#biplots"><i class="fas fa-link"></i></a>
</h2>
<div id="principal-component-analysis" class="section level3" number="19.8.1">
<h3>
<span class="header-section-number">19.8.1</span> Principal Component Analysis<a class="anchor" aria-label="anchor" href="#principal-component-analysis"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb182"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df7a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">9</span>,<span class="fl">10</span>,<span class="fl">11</span>,<span class="fl">12</span>,<span class="fl">13</span><span class="op">)</span>,
                   living <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">7</span>,<span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">8</span>,<span class="fl">5</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">2</span>,<span class="fl">8</span>,<span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span>,
                   climate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">9</span>,<span class="fl">6</span>,<span class="fl">8</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">8</span>,<span class="fl">7</span>,<span class="fl">6</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">4</span><span class="op">)</span>,
                   food <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">9</span>,<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">9</span>,<span class="fl">8</span>,<span class="fl">6</span>,<span class="fl">4</span>,<span class="fl">7</span>,<span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>,
                   security <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">8</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>,
                   hospitality <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">5</span>,<span class="fl">2</span>,<span class="fl">7</span>,<span class="fl">7</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">9</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>,
                   infrastructure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">6</span>,<span class="fl">3</span>,<span class="fl">6</span>,<span class="fl">9</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">2</span>,<span class="fl">8</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="va">df7a</span> <span class="op">&lt;-</span> <span class="va">df7a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span><span class="op">)</span>

<span class="va">pca</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/prcomp.html">prcomp</a></span><span class="op">(</span><span class="va">df7a</span><span class="op">[</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">7</span><span class="op">]</span>, scale <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co">#do the pca here</span>

<span class="fu"><a href="https://rdrr.io/r/stats/biplot.html">biplot</a></span><span class="op">(</span><span class="va">pca</span><span class="op">)</span> <span class="co">#plot the pca</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-20-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="biplot-by-hand" class="section level3" number="19.8.2">
<h3>
<span class="header-section-number">19.8.2</span> Biplot By Hand<a class="anchor" aria-label="anchor" href="#biplot-by-hand"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb183"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df7b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">9</span>,<span class="fl">10</span>,<span class="fl">11</span>,<span class="fl">12</span>,<span class="fl">13</span><span class="op">)</span>,
                   living <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">7</span>,<span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">8</span>,<span class="fl">5</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">2</span>,<span class="fl">8</span>,<span class="fl">2</span>,<span class="fl">4</span><span class="op">)</span>,
                   climate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">8</span>,<span class="fl">9</span>,<span class="fl">6</span>,<span class="fl">8</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">8</span>,<span class="fl">7</span>,<span class="fl">6</span>,<span class="fl">4</span>,<span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">4</span><span class="op">)</span>,
                   food <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">9</span>,<span class="fl">9</span>,<span class="fl">6</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">2</span>,<span class="fl">9</span>,<span class="fl">8</span>,<span class="fl">6</span>,<span class="fl">4</span>,<span class="fl">7</span>,<span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span>,
                   security <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">5</span>,<span class="fl">6</span>,<span class="fl">3</span>,<span class="fl">3</span>,<span class="fl">8</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">7</span>,<span class="fl">2</span>,<span class="fl">3</span><span class="op">)</span>,
                   hospitality <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">5</span>,<span class="fl">2</span>,<span class="fl">7</span>,<span class="fl">7</span>,<span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">3</span>,<span class="fl">9</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>,
                   infrastructure <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">7</span>,<span class="fl">8</span>,<span class="fl">6</span>,<span class="fl">3</span>,<span class="fl">6</span>,<span class="fl">9</span>,<span class="fl">3</span>,<span class="fl">2</span>,<span class="fl">4</span>,<span class="fl">2</span>,<span class="fl">8</span>,<span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span><span class="op">)</span>
<span class="va">df7b</span> <span class="op">&lt;-</span> <span class="va">df7b</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>country <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">country</span><span class="op">)</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/pkg/redav/man/draw_biplot.html">draw_biplot</a></span><span class="op">(</span><span class="va">df7b</span>,
            <span class="st">"climate"</span>, <span class="co"># calibrate an axis</span>
            project <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> <span class="co">#set to false to remove the projection</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_x_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">3</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="co">#can use these to rotate the biplot</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-21-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="mosaic-plots" class="section level2" number="19.9">
<h2>
<span class="header-section-number">19.9</span> Mosaic Plots<a class="anchor" aria-label="anchor" href="#mosaic-plots"><i class="fas fa-link"></i></a>
</h2>
<div id="using-ggplot" class="section level3" number="19.9.1">
<h3>
<span class="header-section-number">19.9.1</span> Using ggplot<a class="anchor" aria-label="anchor" href="#using-ggplot"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb184"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">localnews8a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"18-29"</span>, <span class="st">"30-49"</span>, <span class="st">"50-64"</span>, <span class="st">"65+"</span><span class="op">)</span>,
                        Freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2851</span>, <span class="fl">9967</span>, <span class="fl">11163</span>, <span class="fl">10911</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Followers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.15</span>, <span class="fl">.28</span>, <span class="fl">.38</span>, <span class="fl">.42</span><span class="op">)</span><span class="op">)</span>,
         Nonfollowers <span class="op">=</span> <span class="va">Freq</span> <span class="op">-</span> <span class="va">Followers</span><span class="op">)</span>

<span class="va">local8a</span> <span class="op">&lt;-</span> <span class="va">localnews8a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">Freq</span><span class="op">)</span>

<span class="va">tidylocal8a</span> <span class="op">&lt;-</span> <span class="va">local8a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"Group"</span>, value <span class="op">=</span> <span class="st">"Freq"</span>, <span class="op">-</span><span class="va">Age</span><span class="op">)</span>

<span class="va">g8a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">tidylocal8a</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://rdrr.io/pkg/ggmosaic/man/geom_mosaic.html">geom_mosaic</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="va">Freq</span>, <span class="co">#count</span>
                  x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/ggmosaic/man/product.html">product</a></span><span class="op">(</span><span class="va">Age</span><span class="op">)</span>,
                  fill <span class="op">=</span> <span class="va">Group</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#color by differing group</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ylab</a></span><span class="op">(</span><span class="st">""</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html">guides</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html">theme_classic</a></span><span class="op">(</span><span class="op">)</span>
<span class="va">g8a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-22-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="using-vcdmosaic" class="section level3" number="19.9.2">
<h3>
<span class="header-section-number">19.9.2</span> Using vcd::mosaic<a class="anchor" aria-label="anchor" href="#using-vcdmosaic"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb185"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">localnews8b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Age <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"18-29"</span>, <span class="st">"30-49"</span>, <span class="st">"50-64"</span>, <span class="st">"65+"</span><span class="op">)</span>,
                        Freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2851</span>, <span class="fl">9967</span>, <span class="fl">11163</span>, <span class="fl">10911</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>Followers <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.15</span>, <span class="fl">.28</span>, <span class="fl">.38</span>, <span class="fl">.42</span><span class="op">)</span><span class="op">)</span>,
         Nonfollowers <span class="op">=</span> <span class="va">Freq</span> <span class="op">-</span> <span class="va">Followers</span><span class="op">)</span>

<span class="va">local8b</span> <span class="op">&lt;-</span> <span class="va">localnews8b</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">Freq</span><span class="op">)</span>

<span class="va">tidylocal8b</span> <span class="op">&lt;-</span> <span class="va">local8b</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span><span class="op">(</span>key <span class="op">=</span> <span class="st">"Group"</span>, value <span class="op">=</span> <span class="st">"Freq"</span>, <span class="op">-</span><span class="va">Age</span><span class="op">)</span>

<span class="va">tidylocal8b</span><span class="op">$</span><span class="va">Group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_rev.html">fct_rev</a></span><span class="op">(</span><span class="va">tidylocal8b</span><span class="op">$</span><span class="va">Group</span><span class="op">)</span>

<span class="va">tidylocal8b</span><span class="op">$</span><span class="va">Age</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">tidylocal8b</span><span class="op">$</span><span class="va">Age</span>, levels<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"65+"</span>, <span class="st">"50-64"</span>, <span class="st">"30-49"</span>, <span class="st">"18-29"</span><span class="op">)</span><span class="op">)</span> <span class="co"># reorder the factors here for either upward or downward mobility</span>

<span class="fu">vcd</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/vcd/man/mosaic.html">mosaic</a></span><span class="op">(</span><span class="va">Group</span> <span class="op">~</span> <span class="va">Age</span>, direction<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"v"</span>,<span class="st">"h"</span><span class="op">)</span>, <span class="co">#direction sets order of vertical and horizontal graphing</span>
            <span class="va">tidylocal8b</span>, <span class="co">#data</span>
            tl_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span>, <span class="co">#move labels to bottom</span>
            rot_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">90</span>,<span class="fl">0</span><span class="op">)</span>, <span class="co">#rotate labels</span>
            highlighting_fill<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"grey80"</span>, <span class="st">"blue"</span><span class="op">)</span><span class="op">)</span> <span class="co">#color</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-23-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="many-variables" class="section level3" number="19.9.3">
<h3>
<span class="header-section-number">19.9.3</span> Many Variables<a class="anchor" aria-label="anchor" href="#many-variables"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb186"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">foodorder8c</span> <span class="op">&lt;-</span> <span class="va">Alligator</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">food</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>Freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">Freq</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">food</span><span class="op">)</span>

<span class="va">ally8c</span> <span class="op">&lt;-</span> <span class="va">Alligator</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>Freq <span class="op">=</span> <span class="va">count</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>size <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_relevel.html">fct_relevel</a></span><span class="op">(</span><span class="va">size</span>, <span class="st">"small"</span><span class="op">)</span>,
         food <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">food</span>, levels <span class="op">=</span> <span class="va">foodorder8c</span><span class="op">)</span>,
         food <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_relevel.html">fct_relevel</a></span><span class="op">(</span><span class="va">food</span>, <span class="st">"other"</span><span class="op">)</span><span class="op">)</span>

<span class="fu">vcd</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/vcd/man/mosaic.html">mosaic</a></span><span class="op">(</span><span class="va">food</span> <span class="op">~</span> <span class="va">sex</span> <span class="op">+</span> <span class="va">size</span>,
            <span class="va">ally8c</span>, <span class="co">#data</span>
       direction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"v"</span>, <span class="st">"v"</span>, <span class="st">"h"</span><span class="op">)</span>, <span class="co">#changing order of v and h changes the image of the plot, but still gives accurate data</span>
       rot_labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">90</span>,<span class="fl">0</span><span class="op">)</span>,
       highlighting_fill<span class="op">=</span> <span class="fu">RColorBrewer</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/RColorBrewer/man/ColorBrewer.html">brewer.pal</a></span><span class="op">(</span><span class="fl">5</span>, <span class="st">"Set1"</span><span class="op">)</span><span class="op">)</span> <span class="co">#set the color scheme</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-24-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="alluvial" class="section level2" number="19.10">
<h2>
<span class="header-section-number">19.10</span> Alluvial<a class="anchor" aria-label="anchor" href="#alluvial"><i class="fas fa-link"></i></a>
</h2>
<div id="simple-alluvial" class="section level3" number="19.10.1">
<h3>
<span class="header-section-number">19.10.1</span> Simple Alluvial<a class="anchor" aria-label="anchor" href="#simple-alluvial"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb187"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df9a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Class1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Stats"</span>, <span class="st">"Math"</span>, <span class="st">"Stats"</span>, <span class="st">"Math"</span>, <span class="st">"Stats"</span>, <span class="st">"Math"</span>, <span class="st">"Stats"</span>, <span class="st">"Math"</span><span class="op">)</span>,
                 Class2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"French"</span>, <span class="st">"French"</span>, <span class="st">"Art"</span>, <span class="st">"Art"</span>, <span class="st">"French"</span>, <span class="st">"French"</span>, <span class="st">"Art"</span>, <span class="st">"Art"</span><span class="op">)</span>,
                 Class3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Gym"</span>, <span class="st">"Gym"</span>, <span class="st">"Gym"</span>, <span class="st">"Gym"</span>, <span class="st">"Lunch"</span>, <span class="st">"Lunch"</span>, <span class="st">"Lunch"</span>, <span class="st">"Lunch"</span><span class="op">)</span>,
                 Freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">3</span>, <span class="fl">40</span>, <span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span>

<span class="va">g9a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df9a</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>axis1<span class="op">=</span> <span class="va">Class1</span>,
                      axis2<span class="op">=</span> <span class="va">Class2</span>,
                      axis3<span class="op">=</span> <span class="va">Class3</span>, <span class="co">#add as many axes as needed</span>
                      y <span class="op">=</span> <span class="va">Freq</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#y axis must be Freq</span>
  <span class="fu"><a href="http://corybrunson.github.io/ggalluvial/reference/geom_alluvium.html">geom_alluvium</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#add the flow</span>
  <span class="fu"><a href="http://corybrunson.github.io/ggalluvial/reference/geom_stratum.html">geom_stratum</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co">#add the bars</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"stratum"</span>,
            <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html">after_stat</a></span><span class="op">(</span><span class="va">stratum</span><span class="op">)</span>, <span class="st">"\n"</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html">after_stat</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#add the labels</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Class1"</span>, <span class="st">"Class2"</span>, <span class="st">"Class3"</span><span class="op">)</span><span class="op">)</span> <span class="co">#set x axis</span>

<span class="va">g9a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-25-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="use-geom_flow-instead" class="section level3" number="19.10.2">
<h3>
<span class="header-section-number">19.10.2</span> Use geom_flow instead?<a class="anchor" aria-label="anchor" href="#use-geom_flow-instead"><i class="fas fa-link"></i></a>
</h3>
<p>Data from lecture slides</p>
<div class="sourceCode" id="cb188"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df9b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>Class1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Stats"</span>, <span class="st">"Math"</span>, <span class="st">"Stats"</span>, <span class="st">"Math"</span>, <span class="st">"Stats"</span>, <span class="st">"Math"</span>, <span class="st">"Stats"</span>, <span class="st">"Math"</span><span class="op">)</span>,
                 Class2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"French"</span>, <span class="st">"French"</span>, <span class="st">"Art"</span>, <span class="st">"Art"</span>, <span class="st">"French"</span>, <span class="st">"French"</span>, <span class="st">"Art"</span>, <span class="st">"Art"</span><span class="op">)</span>,
                 Class3 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Gym"</span>, <span class="st">"Gym"</span>, <span class="st">"Gym"</span>, <span class="st">"Gym"</span>, <span class="st">"Lunch"</span>, <span class="st">"Lunch"</span>, <span class="st">"Lunch"</span>, <span class="st">"Lunch"</span><span class="op">)</span>,
                 Freq <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">20</span>, <span class="fl">3</span>, <span class="fl">40</span>, <span class="fl">5</span>, <span class="fl">10</span>, <span class="fl">2</span>, <span class="fl">5</span>, <span class="fl">15</span><span class="op">)</span><span class="op">)</span>

<span class="va">g9b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df9b</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>axis1 <span class="op">=</span> <span class="va">Class1</span>, axis2 <span class="op">=</span> <span class="va">Class2</span>, axis3 <span class="op">=</span> <span class="va">Class3</span>, y <span class="op">=</span> <span class="va">Freq</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="http://corybrunson.github.io/ggalluvial/reference/geom_flow.html">geom_flow</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#essentially resets at each stratum</span>
  <span class="fu"><a href="http://corybrunson.github.io/ggalluvial/reference/geom_stratum.html">geom_stratum</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">"stratum"</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html">after_stat</a></span><span class="op">(</span><span class="va">stratum</span><span class="op">)</span>, <span class="st">"\n"</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes_eval.html">after_stat</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Class1"</span>, <span class="st">"Class2"</span>, <span class="st">"Class3"</span><span class="op">)</span><span class="op">)</span>

<span class="va">g9b</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-26-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
</div>
<div id="time-series" class="section level2" number="19.11">
<h2>
<span class="header-section-number">19.11</span> Time Series<a class="anchor" aria-label="anchor" href="#time-series"><i class="fas fa-link"></i></a>
</h2>
<div id="multiple-time-series" class="section level3" number="19.11.1">
<h3>
<span class="header-section-number">19.11.1</span> Multiple Time Series<a class="anchor" aria-label="anchor" href="#multiple-time-series"><i class="fas fa-link"></i></a>
</h3>
<p>data from <a href="https://r-graph-gallery.com/279-plotting-time-series-with-ggplot2.html" class="uri">https://r-graph-gallery.com/279-plotting-time-series-with-ggplot2.html</a></p>
<div class="sourceCode" id="cb189"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df10a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  day <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="st">"2017-06-14"</span><span class="op">)</span> <span class="op">-</span> <span class="fl">0</span><span class="op">:</span><span class="fl">364</span>,
  value1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">365</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">140</span>, <span class="fl">224</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">/</span> <span class="fl">10000</span>,
  value2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">365</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">140</span>, <span class="fl">224</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">/</span> <span class="fl">10000</span>
<span class="op">)</span> <span class="co">#create data</span>

<span class="va">df10a</span> <span class="op">&lt;-</span> <span class="va">df10a</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/gather.html">gather</a></span><span class="op">(</span>key <span class="op">=</span> <span class="va">TYPE</span>, value <span class="op">=</span> <span class="va">Number</span>, <span class="op">-</span><span class="va">day</span><span class="op">)</span> <span class="co">#create only 2 columns: date and value</span>


<span class="va">g10a</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span>data<span class="op">=</span> <span class="va">df10a</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span><span class="va">day</span>, <span class="co">#x axis must be date</span>
                               y<span class="op">=</span><span class="va">Number</span>, <span class="co">#value you're tracking over time</span>
                               color<span class="op">=</span> <span class="va">TYPE</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="co">#can track multiple time series by color</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">g10a</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-27-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="add-a-loess-smoother" class="section level3" number="19.11.2">
<h3>
<span class="header-section-number">19.11.2</span> Add a Loess Smoother<a class="anchor" aria-label="anchor" href="#add-a-loess-smoother"><i class="fas fa-link"></i></a>
</h3>
<p>data from <a href="https://r-graph-gallery.com/279-plotting-time-series-with-ggplot2.html" class="uri">https://r-graph-gallery.com/279-plotting-time-series-with-ggplot2.html</a></p>
<div class="sourceCode" id="cb190"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df10b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  day <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="st">"2017-06-14"</span><span class="op">)</span> <span class="op">-</span> <span class="fl">0</span><span class="op">:</span><span class="fl">364</span>,
  value1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">365</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">140</span>, <span class="fl">224</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">/</span> <span class="fl">10000</span>,
  value2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">365</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">140</span>, <span class="fl">224</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">/</span> <span class="fl">10000</span>
<span class="op">)</span> <span class="co">#create data</span>

<span class="va">g10b</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df10b</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span> <span class="va">day</span>, y<span class="op">=</span> <span class="va">value1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co">#add the points</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"grey"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#add the line connecting the points</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method<span class="op">=</span> <span class="st">"loess"</span>,
              se<span class="op">=</span> <span class="cn">FALSE</span>, <span class="co">#turn off the error area around the line</span>
              lwd <span class="op">=</span> <span class="fl">.75</span>, <span class="co">#set the line width</span>
              span <span class="op">=</span> <span class="fl">.75</span><span class="op">)</span> <span class="co">#determine how closely the line follows individual points</span>

<span class="va">g10b</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-28-1.png" width="672" style="display: block; margin: auto;"></div>
</div>
<div id="facet-by-day-of-the-week" class="section level3" number="19.11.3">
<h3>
<span class="header-section-number">19.11.3</span> Facet by Day of the Week<a class="anchor" aria-label="anchor" href="#facet-by-day-of-the-week"><i class="fas fa-link"></i></a>
</h3>
<p>data from <a href="https://r-graph-gallery.com/279-plotting-time-series-with-ggplot2.html" class="uri">https://r-graph-gallery.com/279-plotting-time-series-with-ggplot2.html</a></p>
<div class="sourceCode" id="cb191"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df10c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>
  day <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/pkg/zoo/man/yearmon.html">as.Date</a></span><span class="op">(</span><span class="st">"2017-06-14"</span><span class="op">)</span> <span class="op">-</span> <span class="fl">0</span><span class="op">:</span><span class="fl">364</span>,
  value1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">365</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">140</span>, <span class="fl">224</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">/</span> <span class="fl">10000</span>,
  value2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span><span class="op">(</span><span class="fl">365</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="op">-</span><span class="fl">140</span>, <span class="fl">224</span><span class="op">)</span><span class="op">^</span><span class="fl">2</span> <span class="op">/</span> <span class="fl">10000</span>
<span class="op">)</span> <span class="co">#create data</span>

<span class="va">g10c</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="va">df10c</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x<span class="op">=</span> <span class="va">day</span>, y<span class="op">=</span> <span class="va">value1</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"grey"</span><span class="op">)</span> <span class="op">+</span> <span class="co">#add the line connecting the points</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span><span class="fu">wday</span><span class="op">(</span><span class="va">day</span>, label <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">~</span><span class="va">.</span><span class="op">)</span> <span class="op">+</span> <span class="co">#facet the data by day of the week using wday() function</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>se <span class="op">=</span> <span class="cn">FALSE</span>, lwd <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span> <span class="co">#can add the line to each facet</span>

<span class="va">g10c</span></code></pre></div>
<div class="inline-figure"><img src="guide_through_ggplot_via_example_plots_files/figure-html/unnamed-chunk-29-1.png" width="672" style="display: block; margin: auto;"></div>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="web-scraping-using-beautifulsoup-in-python.html"><span class="header-section-number">18</span> Web Scraping Using BeautifulSoup in Python</a></div>
<div class="next"><a href="drawing-five-common-plots-by-ggplot2.html"><span class="header-section-number">20</span> Drawing Five Common Plots by ggplot2</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#a-brief-guide-through-ggplot-via-examples"><span class="header-section-number">19</span> A Brief Guide Through ggplot via Examples</a></li>
<li><a class="nav-link" href="#introduction-1"><span class="header-section-number">19.1</span> Introduction</a></li>
<li>
<a class="nav-link" href="#histograms"><span class="header-section-number">19.2</span> Histograms</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#histogram-by-frequency-count"><span class="header-section-number">19.2.1</span> Histogram by Frequency (Count)</a></li>
<li><a class="nav-link" href="#histogram-by-density"><span class="header-section-number">19.2.2</span> Histogram by Density</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#boxplots"><span class="header-section-number">19.3</span> Boxplots</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#standard-box-plot"><span class="header-section-number">19.3.1</span> Standard Box Plot</a></li>
<li><a class="nav-link" href="#ridgeline-plot-1"><span class="header-section-number">19.3.2</span> Ridgeline Plot</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#bar-plots"><span class="header-section-number">19.4</span> Bar Plots</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#standard-bar-plot"><span class="header-section-number">19.4.1</span> Standard Bar Plot</a></li>
<li><a class="nav-link" href="#stacked-bar-plot-with-multiple-variables"><span class="header-section-number">19.4.2</span> Stacked Bar Plot with Multiple Variables</a></li>
<li><a class="nav-link" href="#grouped-bar-plot"><span class="header-section-number">19.4.3</span> Grouped Bar Plot</a></li>
<li><a class="nav-link" href="#grouped-bar-plot-with-facets"><span class="header-section-number">19.4.4</span> Grouped Bar Plot with Facets</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#cleveland-dot-plots"><span class="header-section-number">19.5</span> Cleveland Dot Plots</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#standard-cleveland-dot-plot"><span class="header-section-number">19.5.1</span> Standard Cleveland Dot Plot</a></li>
<li><a class="nav-link" href="#cleveland-dot-plot-with-multiple-dots"><span class="header-section-number">19.5.2</span> Cleveland Dot Plot with Multiple Dots</a></li>
<li><a class="nav-link" href="#cleveland-dot-plots-with-facets"><span class="header-section-number">19.5.3</span> Cleveland Dot Plots with Facets</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#heatmaps"><span class="header-section-number">19.6</span> Heatmaps</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#square-heatmap-1"><span class="header-section-number">19.6.1</span> Square Heatmap</a></li>
<li><a class="nav-link" href="#hex-heatmap"><span class="header-section-number">19.6.2</span> Hex Heatmap</a></li>
<li><a class="nav-link" href="#density-lines"><span class="header-section-number">19.6.3</span> Density lines</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#parallel-coordinate-plots"><span class="header-section-number">19.7</span> Parallel Coordinate Plots</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#rescaled-slope-graph"><span class="header-section-number">19.7.1</span> Rescaled Slope Graph</a></li>
<li><a class="nav-link" href="#parallel-coordinate-plot"><span class="header-section-number">19.7.2</span> Parallel Coordinate Plot</a></li>
<li><a class="nav-link" href="#splines"><span class="header-section-number">19.7.3</span> Splines</a></li>
<li><a class="nav-link" href="#parallel-coordinate-plot-with-highlighted-trend"><span class="header-section-number">19.7.4</span> Parallel Coordinate Plot with Highlighted Trend</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#biplots"><span class="header-section-number">19.8</span> Biplots</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#principal-component-analysis"><span class="header-section-number">19.8.1</span> Principal Component Analysis</a></li>
<li><a class="nav-link" href="#biplot-by-hand"><span class="header-section-number">19.8.2</span> Biplot By Hand</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#mosaic-plots"><span class="header-section-number">19.9</span> Mosaic Plots</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#using-ggplot"><span class="header-section-number">19.9.1</span> Using ggplot</a></li>
<li><a class="nav-link" href="#using-vcdmosaic"><span class="header-section-number">19.9.2</span> Using vcd::mosaic</a></li>
<li><a class="nav-link" href="#many-variables"><span class="header-section-number">19.9.3</span> Many Variables</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#alluvial"><span class="header-section-number">19.10</span> Alluvial</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#simple-alluvial"><span class="header-section-number">19.10.1</span> Simple Alluvial</a></li>
<li><a class="nav-link" href="#use-geom_flow-instead"><span class="header-section-number">19.10.2</span> Use geom_flow instead?</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#time-series"><span class="header-section-number">19.11</span> Time Series</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#multiple-time-series"><span class="header-section-number">19.11.1</span> Multiple Time Series</a></li>
<li><a class="nav-link" href="#add-a-loess-smoother"><span class="header-section-number">19.11.2</span> Add a Loess Smoother</a></li>
<li><a class="nav-link" href="#facet-by-day-of-the-week"><span class="header-section-number">19.11.3</span> Facet by Day of the Week</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/jtr13/cc22spring/blob/main/guide_through_ggplot_via_example_plots.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/jtr13/cc22spring/edit/main/guide_through_ggplot_via_example_plots.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Community Contributions STAT GR 5293</strong>" was written by . It was last built on 2022-04-12.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
